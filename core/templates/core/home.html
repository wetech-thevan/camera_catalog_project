{% extends 'core/base.html' %}
{% load static %}

{% block title %}
  Trang Chủ - Camera Catalog
{% endblock %}

{% block content %}
  
  <div class="container main-container">
    <aside class="sidebar">
        <h5 class="sidebar-title"><i class="fa fa-bars"></i> DANH MỤC SẢN PHẨM</h5>
        <div class="nav flex-column">
            {% for category in categories %}
            <a class="nav-link" href="#">
                {% if category.icon %}
                <img src="{{ category.icon.url }}" alt="{{ category.name }}" class="category-icon">
                {% endif %}
                <span>{{ category.name }}</span>
            </a>
            {% endfor %}
        </div>
    </aside>

    <div class="main-content">
        <div id="hero-carousel" class="carousel slide mb-4" data-bs-ride="carousel">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#hero-carousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#hero-carousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#hero-carousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner rounded">
              <div class="carousel-item active">
                <img src="{% static 'images/slider_1.webp' %}" class="d-block w-100" alt="Banner 1">
              </div>
              <div class="carousel-item">
                <img src="{% static 'images/slider_2.webp' %}" class="d-block w-100" alt="Banner 2">
              </div>
              <div class="carousel-item">
                <img src="{% static 'images/slider_3.webp' %}" class="d-block w-100" alt="Banner 3">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#hero-carousel" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button>
            <button class="carousel-control-next" type="button" data-bs-target="#hero-carousel" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>
        </div>
        <div class="bottom-banner-section mb-4">
            <div class="row g-3">
                <div class="col-md-4"><a href="#" class="sub-banner-item"><img src="{% static 'images/bottom_banner_1.webp' %}" class="img-fluid" alt="Bottom Banner 1"></a></div>
                <div class="col-md-4"><a href="#" class="sub-banner-item"><img src="{% static 'images/bottom_banner_2.webp' %}" class="img-fluid" alt="Bottom Banner 2"></a></div>
                <div class="col-md-4"><a href="#" class="sub-banner-item"><img src="{% static 'images/bottom_banner_3.webp' %}" class="img-fluid" alt="Bottom Banner 3"></a></div>
            </div>
        </div>
    </div>
  </div>

  <div class="container">
    <div class="category-showcase-section my-5">
        <div class="heading-bar">
            <h2 class="heading-bar__title">
                <a href="#">DANH MỤC SẢN PHẨM</a>
            </h2>
        </div>
        <div class="row text-center mt-4">
            {% for category in categories %}
                <div class="col">
                    <a href="#" class="category-showcase-item">
                        <div class="icon-wrapper">
                            {% if category.icon %}
                                <img src="{{ category.icon.url }}" alt="{{ category.name }}">
                            {% endif %}
                        </div>
                        <span class="category-name">{{ category.name }}</span>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
  </div>

  <div class="container">
    {% if hot_sale_products %}
    <div class="hot-sale-section p-4 rounded mb-4">
      <div class="heading-bar heading-bar--hot-sale">
        <h2 class="heading-bar__title">
            <a href="#">SẢN PHẨM HOT SALE</a>
        </h2>
      </div>

      <div class="hot-sale-product-slider mt-3">
        {% for camera in hot_sale_products %}
          <div class="p-2"> {% include 'products/includes/product_card.html' with camera=camera %}
          </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    </div>

{% endblock %}

{% block scripts %}
<script type="text/javascript">
  $(document).ready(function(){
    $('.hot-sale-product-slider').slick({
      dots: true,       // Hiển thị các dấu chấm điều hướng
      infinite: false,  // Không lặp lại vô hạn
      speed: 300,
      slidesToShow: 5,  // Hiển thị 5 sản phẩm
      slidesToScroll: 5, // Trượt 5 sản phẩm một lần
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 4
          }
        },
        {
          breakpoint: 992,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3
          }
        },
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        }
      ]
    });
  });
</script>
{% endblock %}